SMART-DOC V2 VOICE TRANSCRIPTION FIX
====================================

1. Connect to your server:
   ssh root@146.190.39.214

2. Navigate to Smart-Doc V2:
   cd /var/www/smart-doc-v2

3. Edit the app.py file:
   nano app.py

4. Find this section (around line 126):
   
   transcript = client.audio.transcriptions.create(
       model="whisper-1",
       file=audio_file
   )

5. Replace it with:
   
   # Read the audio file content
   audio_data = audio_file.read()
   audio_file.seek(0)
   
   # Create transcription with proper file format
   transcript = client.audio.transcriptions.create(
       model="whisper-1",
       file=("audio.webm", audio_data, "audio/webm")
   )

6. Save the file:
   - Press Ctrl+X
   - Press Y
   - Press Enter

7. Restart the application:
   pm2 restart smart-doc-v2

8. Check if it's running:
   pm2 status smart-doc-v2

9. Test the voice feature:
   https://smartdoc.autoauditpro.io/voice

The fix converts Flask's FileStorage object into the format that OpenAI's API expects.